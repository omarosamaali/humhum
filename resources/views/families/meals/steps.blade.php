<!DOCTYPE html>
<html lang="en" dir="rtl">

<head>

    <!-- Title -->
    <title>ÿßŸÑÿÆÿ∑Ÿàÿßÿ™</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="author" content="DexignZone">
    <meta name="robots" content="index, follow">

    <meta name="keywords"
        content="android, ios, mobile, mobile template, mobile app, ui kit, dark layout, app, delivery, ecommerce, material design, mobile, mobile web, order, phonegap, pwa, store, web app, Ombe, coffee app, coffee template, coffee shop, mobile UI, coffee design, app template, responsive design, coffee showcase, style app, trendy app, modern UI, technology, User-Friendly Interface, Coffee Shop App, PWA (Progressive Web App), Mobile Ordering, Coffee Experience, Digital Menu, Innovative Technology, App Development, Coffee Experience, cafe, bootatrap, Bootstrap Framework, UI/UX Design, Coffee Shop Technology, Online Presence, Coffee Shop Website, Cafe Template, Mobile App Design, Web Application, Digital Presence, ">

    <meta name="description"
        content="Discover the perfect blend of design and functionality with Ombe, a Coffee Shop Mobile App Template crafted with Bootstrap and enhanced with Progressive Web App (PWA) capabilities. Elevate your coffee shop's online presence with a seamless, responsive, and feature-rich template. Explore a modern design, user-friendly interface, and PWA technology for an immersive mobile experience. Brew success for your coffee shop effortlessly ‚Äì Ombe is the ideal template to caffeinate your digital presence.">

    <meta property="og:title" content="Ombe- Coffee Shop Mobile App Template (Bootstrap + PWA) | DexignZone">
    <meta property="og:description"
        content="Discover the perfect blend of design and functionality with Ombe, a Coffee Shop Mobile App Template crafted with Bootstrap and enhanced with Progressive Web App (PWA) capabilities. Elevate your coffee shop's online presence with a seamless, responsive, and feature-rich template. Explore a modern design, user-friendly interface, and PWA technology for an immersive mobile experience. Brew success for your coffee shop effortlessly ‚Äì Ombe is the ideal template to caffeinate your digital presence.">

    <meta property="og:image" content="https://ombe.dexignzone.com/xhtml/social-image.png">

    <meta name="format-detection" content="telephone=no">

    <meta name="twitter:title" content="Ombe- Coffee Shop Mobile App Template (Bootstrap + PWA) | DexignZone">
    <meta name="twitter:description"
        content="Discover the perfect blend of design and functionality with Ombe, a Coffee Shop Mobile App Template crafted with Bootstrap and enhanced with Progressive Web App (PWA) capabilities. Elevate your coffee shop's online presence with a seamless, responsive, and feature-rich template. Explore a modern design, user-friendly interface, and PWA technology for an immersive mobile experience. Brew success for your coffee shop effortlessly ‚Äì Ombe is the ideal template to caffeinate your digital presence.">

    <meta name="twitter:image" content="https://ombe.dexignzone.com/xhtml/social-image.png">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Mobile Specific -->
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, minimal-ui, viewport-fit=cover">
    @vite(['resources/js/app.js'])
    <!-- Favicons Icon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/user-logo/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Global CSS -->
    <link href="assets/vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/vendor/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.css">
    <link rel="stylesheet" href="assets/vendor/imageuplodify/imageuploadify.min.css">
    <link rel="stylesheet" href="assets/vendor/swiper/swiper-bundle.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&family=Raleway:wght@300;400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #29A500 !important;
        }

        div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm) {
            background-color: var(--primary) !important;
        }

        @media all {
            body {
                line-height: 1.5;
                font-size: 1rem;
                letter-spacing: -.025em;
                color: rgb(74 74 74/var(--tw-text-opacity, 1));
            }
        }

        body {
            font-size: 17px;
        }

        body {
            /* CSS Variables that may have been missed get put on body */
            --tw-bg-opacity: 1;
            --tw-bg-opacity: 1;
            --tw-text-opacity: 1;
        }

        @media all {
            * {
                border: 0 solid;
                box-sizing: border-box;
            }
        }

        @media (min-width: 970px) {
            .lg\:rounded {
                border-radius: .25rem;
            }

            .lg\:mb-lg {
                margin-bottom: 2.5rem;
            }

            .lg\:grid {
                display: grid;
            }

            .lg\:grid-cols-\[min\(35\%\,300px\)_1fr\] {
                grid-template-columns: min(35%, 300px) 1fr;
            }

            .lg\:gap-md {
                gap: 1.5rem;
            }
        }

        @media all {
            .mx-33j {
                margin-left: auto;
                margin-right: auto;
            }
        }

        @media (min-width: 970px) {
            .lg\:px-rg {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }

        @media all {
            .fle-kj4 {
                display: flex;
            }
        }

        @media (min-width: 970px) {
            .lg\:col-start-2 {
                grid-column-start: 2;
            }

            .lg\:rounded-lg {
                border-radius: .5rem;
            }

            .lg\:bg-cookpad-white {
                --tw-bg-opacity: 1;
                background-color: rgb(255 255 255/var(--tw-bg-opacity, 1));
            }

            .lg\:gap-x-sm {
                column-gap: .5rem;
            }

            .navigation-container:has(.sidebar-navigation) {
                grid-template-columns: clamp(240px, 20%, 270px) 1fr;
                padding-left: .5rem;
                padding-right: .5rem;
            }
        }

        body {
            transition: opacity ease-in 0.2s;
        }

        @media all {
            body {
                line-height: inherit;
                margin: 0;
            }

            body {
                font-size: 1rem;
                letter-spacing: -.025em;
                line-height: 1.5rem;
            }

            body {
                --tw-text-opacity: 1;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
                font-feature-settings: "liga" on;
                color: rgb(74 74 74/var(--tw-text-opacity, 1));
                text-rendering: optimizeLegibility;
            }

            .bg-cookpad-gray-9gi {
                --tw-bg-opacity: 1;
                background-color: rgb(255 234 234);
            }
        }

        @media (min-width: 970px) {
            .lg\:overscroll-y-none {
                overscroll-behavior-y: none;
            }
        }

        :lang(ar) body {
            font-family: Noto Naskh Arabic, Noto Sans Arabic, sans-serif;
            font-size: 17px;
        }

        @media all {
            html {
                -webkit-text-size-adjust: 100%;
                font-feature-settings: normal;
                -webkit-tap-highlight-color: transparent;
                font-family: ui-sans-serif, system-ui, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;
                font-variation-settings: normal;
                line-height: 1.5;
                tab-size: 4;
            }

            html {
                font-size: 1rem;
                letter-spacing: -.025em;
                line-height: 1.5rem;
            }

            .p-6h1 {
                padding: 1rem;
            }

            *,
            :after,
            :before {
                border: 0 solid;
                box-sizing: border-box;
            }

            .image-zyn {
                cursor: pointer;
                overflow: hidden;
                position: relative;
            }

            .aspect-\[340\/241\] {
                aspect-ratio: 340/241;
            }

            .item-sji {
                align-items: center;
            }

            .justify-byc {
                justify-content: center;
            }

            .text-wbi {
                text-align: center;
            }
        }

        @media (min-width: 970px) {
            .lg\:aspect-\[120\/170\] {
                aspect-ratio: 120/170;
            }
        }

        @media all {
            .text-fim {
                --tw-text-opacity: 1;
                color: rgb(96 96 96/var(--tw-text-opacity, 1));
            }

            input {
                font-feature-settings: inherit;
                color: inherit;
                font-family: inherit;
                font-size: 100%;
                font-variation-settings: inherit;
                font-weight: inherit;
                letter-spacing: inherit;
                line-height: inherit;
                margin: 0;
                padding: 0;
            }

            input {
                text-align: right;
            }

            input[type="file"] {
                display: block;
            }

            .image-zyn input {
                cursor: pointer;
                height: 100%;
                inset: 0;
                margin: 0;
                opacity: 0;
                position: absolute;
                width: 100%;
            }

            img {
                display: block;
                vertical-align: middle;
            }

            img {
                height: auto;
                max-width: 100%;
            }

            .pointer-events-j3t {
                pointer-events: none;
            }

            .w-8so {
                width: 4rem;
            }

            p {
                margin: 0;
            }

            .mt-mnq {
                margin-top: 1.5rem;
            }

            .text-x8v {
                font-size: 1rem;
                letter-spacing: -.025em;
                line-height: 1.5rem;
            }

            .font-9s7 {
                font-weight: 600;
            }

            .px-ql7 {
                padding-left: 1rem;
                padding-right: 1rem;
            }

            .text-b94 {
                font-size: .75rem;
                letter-spacing: -.2px;
                line-height: 1rem;
            }
        }

        input::placeholder {
            color: var(--primary) !important;
        }

        .custom-tab-1 .nav-link {
            font-size: 14px;
            padding: 6.3px;
        }

        .ingredient-item {
            margin: 20px;
        }

        .ingredient-type-indicator {
            text-align: center;
            display: block;
            width: fit-content;
            color: white;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            margin: auto;
            padding: 5px 10px;
            margin-bottom: 10px;
            background-color: var(--primary);
        }

        .page-content.space-top {
            margin: 20px;
        }

        .step-number-indicator {
            text-align: center;
            display: block;
            width: fit-content;
            color: white;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            margin: auto;
            padding: 5px 10px;
            margin-bottom: 10px;
            background-color: var(--primary);
        }

        .image-zyn-box {
            width: 150px;
            border-radius: 15px;
            height: 84px;
            margin: 10px 0px;
        }

        .swal2-rtl .swal2-close {
            display: flex;
            top: -20px;
            position: relative;
            border: 1px solid;
        }
    </style>
</head>

<body class="bg-light">
    <div class="page-wrapper">
        <div id="preloader">
            <div class="loader">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
        @php
            // ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÑÿ∫ÿ©
            $lang = $lang = session('cook_language') 
            ?? session('family_language') 
            ?? 'ar';

            // ÿ™ÿ±ÿ¨ŸÖÿ© "ÿßŸÑÿÆÿ∑Ÿàÿßÿ™"
            $stepsTitleTranslations = [
                'ar' => 'ÿßŸÑÿÆÿ∑Ÿàÿßÿ™',
                'en' => 'Steps',
                'hi' => '‡§ï‡§¶‡§Æ',
                'id' => 'Langkah',
                'am' => '·ã∞·à®·åÉ·ãé·âΩ',
                'bn' => '‡¶ß‡¶æ‡¶™',
                'ml' => '‡¥®‡¥ü‡¥™‡¥ü‡¥ø‡¥ï‡µæ',
                'fil' => 'Mga Hakbang',
                'ur' => 'ŸÖÿ±ÿßÿ≠ŸÑ',
                'ta' => '‡Æ™‡Æü‡Æø ‡Æ™‡Æü‡Æø‡Æï‡Æ≥‡Øç',
                'ne' => '‡§ï‡§¶‡§Æ‡§π‡§∞‡•Ç',
                'ps' => '⁄´ÿßŸÖŸàŸÜŸá',
                'fr' => '√âtapes',
            ];
            $stepsTitle = $stepsTitleTranslations[$lang] ?? $stepsTitleTranslations['ar'];

            // ÿ™ÿ±ÿ¨ŸÖÿ© "ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸàÿµŸÅÿ©"
            $noDescriptionTranslations = [
                'ar' => 'ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸàÿµŸÅÿ©',
                'en' => 'No description',
                'hi' => '‡§ï‡•ã‡§à ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§®‡§π‡•Ä‡§Ç',
                'id' => 'Tidak ada deskripsi',
                'am' => '·àò·åç·àà·å´ ·ã®·àà·àù',
                'bn' => '‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶∞‡ßç‡¶£‡¶®‡¶æ ‡¶®‡ßá‡¶á',
                'ml' => '‡¥µ‡¥ø‡¥µ‡¥∞‡¥£‡¥Ç ‡¥á‡¥≤‡µç‡¥≤',
                'fil' => 'Walang paglalarawan',
                'ur' => '⁄©Ÿàÿ¶€å ÿ™ŸÅÿµ€åŸÑ ŸÜ€Å€å⁄∫',
                'ta' => '‡Æµ‡Æø‡Æµ‡Æ∞‡ÆÆ‡Øç ‡Æá‡Æ≤‡Øç‡Æ≤‡Øà',
                'ne' => '‡§µ‡§ø‡§µ‡§∞‡§£ ‡§õ‡•à‡§®',
                'ps' => '⁄Öÿ±⁄´ŸÜÿØŸàŸÜŸá ŸÜÿ¥ÿ™Ÿá',
                'fr' => 'Pas de description',
            ];
            $noDescriptionText = $noDescriptionTranslations[$lang] ?? $noDescriptionTranslations['ar'];

            // ÿ™ÿ±ÿ¨ŸÖÿ© ÿßŸÑÿ≠ÿßŸÑÿ© ŸÑŸÑÿ≤ÿ±
            $stepStatusTranslations = [
                'ar' => [
                    'completed' => 'ÿ™ŸÖ ÿßŸÑÿ•ŸÜÿ™Ÿáÿßÿ°',
                    'finish_step' => 'ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿÆÿ∑Ÿàÿ©',
                    'finish_previous' => 'Ÿäÿ¨ÿ® ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿÆÿ∑Ÿàÿ© ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© ÿ£ŸàŸÑÿßŸã',
                ],
                'en' => [
                    'completed' => 'Completed',
                    'finish_step' => 'Finish step',
                    'finish_previous' => 'You must complete the previous step first',
                ],
                'hi' => [
                    'completed' => '‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü',
                    'finish_step' => '‡§ï‡§¶‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç',
                    'finish_previous' => '‡§™‡§π‡§≤‡•á ‡§™‡§ø‡§õ‡§≤‡•á ‡§ï‡§¶‡§Æ ‡§ï‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç',
                ],
                'id' => [
                    'completed' => 'Selesai',
                    'finish_step' => 'Selesaikan langkah',
                    'finish_previous' => 'Anda harus menyelesaikan langkah sebelumnya terlebih dahulu',
                ],
                'am' => [
                    'completed' => '·â∞·å†·äì·âÄ·âÄ',
                    'finish_step' => '·ã∞·à®·åÉ ·ã´·å†·äì·âÄ·âÄ',
                    'finish_previous' => '·âÄ·ãµ·àû·ãç·äï ·ã∞·à®·åÉ ·àò·å®·à®·àµ ·ä†·àà·â•·ãé·âµ',
                ],
                'bn' => [
                    'completed' => '‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®',
                    'finish_step' => '‡¶ß‡¶æ‡¶™ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'finish_previous' => '‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ß‡¶æ‡¶™‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá',
                ],
                'ml' => [
                    'completed' => '‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥Ø‡¥ø',
                    'finish_step' => '‡¥®‡¥ü‡¥™‡¥ü‡¥ø ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡µÅ‡¥ï',
                    'finish_previous' => '‡¥Æ‡µÅ‡¥Æ‡µç‡¥™‡¥§‡µç‡¥§‡µÜ ‡¥ò‡¥ü‡µç‡¥ü‡¥Ç ‡¥Ü‡¥¶‡µç‡¥Ø‡¥Ç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡¥£‡¥Ç',
                ],
                'fil' => [
                    'completed' => 'Natapos',
                    'finish_step' => 'Tapusin ang hakbang',
                    'finish_previous' => 'Dapat tapusin muna ang nakaraang hakbang',
                ],
                'ur' => [
                    'completed' => 'ŸÖ⁄©ŸÖŸÑ',
                    'finish_step' => 'ŸÖÿ±ÿ≠ŸÑ€Å ŸÖ⁄©ŸÖŸÑ ⁄©ÿ±€å⁄∫',
                    'finish_previous' => 'Ÿæ€ÅŸÑ€í Ÿæ⁄Ü⁄æŸÑÿß ŸÖÿ±ÿ≠ŸÑ€Å ŸÖ⁄©ŸÖŸÑ ⁄©ÿ±€å⁄∫',
                ],
                'ta' => [
                    'completed' => '‡ÆÆ‡ØÅ‡Æü‡Æø‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ',
                    'finish_step' => '‡Æ™‡Æü‡Æø‡ÆØ‡Øà ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                    'finish_previous' => '‡ÆÆ‡ØÅ‡Æ®‡Øç‡Æ§‡Øà‡ÆØ ‡Æ™‡Æü‡Æø‡ÆØ‡Øà ‡ÆÆ‡ØÅ‡Æ§‡Æ≤‡Æø‡Æ≤‡Øç ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æï‡Øç‡Æï ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç',
                ],
                'ne' => [
                    'completed' => '‡§™‡•Ç‡§∞‡§æ ‡§≠‡§Ø‡•ã',
                    'finish_step' => '‡§ï‡§¶‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç',
                    'finish_previous' => '‡§™‡§π‡§ø‡§≤‡•á ‡§Ö‡§ò‡§ø‡§≤‡•ç‡§≤‡•ã ‡§ï‡§¶‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç',
                ],
                'ps' => [
                    'completed' => 'ÿ®ÿ¥Ÿæ⁄ì ÿ¥Ÿà€å',
                    'finish_step' => '⁄´ÿßŸÖ ÿ®ÿ¥Ÿæ⁄ì ⁄©⁄ìÿ¶',
                    'finish_previous' => 'ÿ™ÿßÿ≥Ÿà ÿ®ÿß€åÿØ ŸÑŸàŸÖ⁄ì€å ÿ™€åÿ± ⁄´ÿßŸÖ ÿ®ÿ¥Ÿæ⁄ì ⁄©⁄ìÿ¶',
                ],
                'fr' => [
                    'completed' => 'Termin√©',
                    'finish_step' => 'Terminer l‚Äô√©tape',
                    'finish_previous' => 'Vous devez d‚Äôabord terminer l‚Äô√©tape pr√©c√©dente',
                ],
            ];

            $stepStatus = $stepStatusTranslations[$lang] ?? $stepStatusTranslations['ar'];

            // ÿ™ÿ±ÿ¨ŸÖÿ© ÿ≤ÿ± ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÜÿ∑ŸÇ
            $speakStepTextTranslations = [
                'ar' => 'ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑŸÜÿ∑ŸÇ',
                'en' => 'Speak text',
                'hi' => '‡§™‡§æ‡§† ‡§¨‡•ã‡§≤‡•á‡§Ç',
                'id' => 'Bicarakan teks',
                'am' => '·åΩ·àë·çç ·äï·äê·åã·åà·à≠',
                'bn' => '‡¶™‡¶æ‡¶† ‡¶¨‡¶≤‡ßÅ‡¶®',
                'ml' => '‡¥µ‡¥æ‡¥ö‡¥ï‡¥Ç ‡¥∏‡¥Ç‡¥∏‡¥æ‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï',
                'fil' => 'Magsalita ng teksto',
                'ur' => 'ŸÖÿ™ŸÜ Ÿæ⁄ë⁄æ€å⁄∫',
                'ta' => '‡Æâ‡Æ∞‡Øà ‡Æ™‡Øá‡Æö‡Æµ‡ØÅ‡ÆÆ‡Øç',
                'ne' => '‡§™‡§æ‡§† ‡§¨‡•ã‡§≤‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç',
                'ps' => 'ŸÖÿ™ŸÜ ŸàŸà€åÿ¶ŸÑ',
                'fr' => 'Lire le texte',
            ];
            $speakStepText = $speakStepTextTranslations[$lang] ?? $speakStepTextTranslations['ar'];

        @endphp

        <!-- Header -->
        <header class="header header-fixed border-bottom">
            <div class="header-content">
                <div class="mid-content">
                    <h4 class="title">{{ $stepsTitle }}</h4>
                </div>
                <div class="left-content">
                    <a href="{{ url()->previous() ?: route('home') }}" id="back-btn">
                        <i class="feather icon-arrow-left"></i>
                    </a>
                </div>
            </div>
        </header>

        <div style="padding-top: 100px; margin: 0px 20px;">
            @foreach ($steps as $index => $step)
                <div style="display: flex; gap: 10px; align-items: center; justify-content: space-between;">
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <div class="step-number-indicator" style="margin-bottom: auto !important;">
                            {{ $index + 1 }}
                        </div>
                        <span id="step-text-{{ $index }}"
                            style="@if (in_array($index, $completedSteps)) text-decoration: line-through; @elseif($index > count($completedSteps)) opacity: 0.6; @endif">
                            {{-- {{ $step['description'] ?? $noDescriptionText }} --}}
                            {{ \App\Helpers\TranslationHelper::translate($step['description'] ?? ($noDescriptionText ?? ''), $lang) }}
                        </span>
                    </div>
                    <div style="display: flex; gap: 5px; align-items: center;">
                        <div onclick="completeStep({{ $index }})" id="complete-btn-{{ $index }}"
                            style="cursor: pointer; 
                    border: 1px solid var(--primary); 
                    padding: 5px; border-radius: 5px; width: fit-content; margin-top: 10px;
                    @if (in_array($index, $completedSteps)) background-color: white;
                    pointer-events: none; opacity: 0.6; cursor: not-allowed; @endif"
                            title="@if (in_array($index, $completedSteps)) {{ $stepStatus['completed'] }}
                           @elseif($index == count($completedSteps)) {{ $stepStatus['finish_step'] }}
                           @else {{ $stepStatus['finish_previous'] }} @endif">
                            <i style="font-size: 20px; color: var(--primary) !important;" class="fa-solid fa-check"></i>
                        </div>
                        <div onclick="speakText('{{ addslashes($step['description']) }}')"
                            style="cursor: pointer; background-color: var(--primary); color: white; padding: 5px; border-radius: 5px; width: fit-content; margin-top: 10px;"
                            title="{{ $speakStepText }}">
                            <i style="font-size: 20px; color: #ffffff;" class="fa-solid fa-headphones"></i>
                        </div>
                    </div>
                </div>

                @if (!empty($step['media']) && count($step['media']) > 0)
                    <div style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 20px;">
                        @foreach ($step['media'] as $media)
                            <img class="image-zyn-box" src="{{ asset('storage/' . $media['url']) }}"
                                alt="{{ $media['original_name'] }}"
                                style="max-width: 200px; border-radius: 10px; cursor: pointer;"
                                onclick="openImage('{{ asset('storage/' . $media['url']) }}')">
                        @endforeach
                    </div>
                @endif
            @endforeach
        </div>

        @php
            $jsStepTranslations = [
                'ar' => [
                    'error' => 'ÿÆÿ∑ÿ£',
                    'must_finish_previous' => 'Ÿäÿ¨ÿ® ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿÆÿ∑Ÿàÿ© ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© ÿ£ŸàŸÑÿßŸã',
                    'success' => 'ÿ™ŸÖ ÿ®ŸÜÿ¨ÿßÿ≠',
                    'step_completed' => 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿÆÿ∑Ÿàÿ© :step',
                    'all_steps_completed_title' => 'ŸÖÿ®ÿ±ŸàŸÉ! üéâ',
                    'all_steps_completed_text' => 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿ¨ŸÖŸäÿπ ÿßŸÑÿÆÿ∑Ÿàÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠',
                    'restart' => 'ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ®ÿØÿ°',
                    'close' => 'ÿ•ÿ∫ŸÑÿßŸÇ',
                    'step_finished_button' => 'ÿ™ŸÖ ÿßŸÑÿ•ŸÜÿ™Ÿáÿßÿ°',
                    'finish_step_button' => 'ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿÆÿ∑Ÿàÿ©',
                    'saving_error' => 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ŸÇÿØŸÖ',
                    'congrats_image_alt' => 'ŸÖÿ®ÿ±ŸàŸÉ',
                ],
                'en' => [
                    'error' => 'Error',
                    'must_finish_previous' => 'You must complete the previous step first',
                    'success' => 'Success',
                    'step_completed' => 'Step :step completed',
                    'all_steps_completed_title' => 'Congratulations! üéâ',
                    'all_steps_completed_text' => 'All steps completed successfully',
                    'restart' => 'Restart',
                    'close' => 'Close',
                    'step_finished_button' => 'Completed',
                    'finish_step_button' => 'Finish step',
                    'saving_error' => 'An error occurred while saving progress',
                    'congrats_image_alt' => 'Congratulations',
                ],
                'hi' => [
                    'error' => '‡§§‡•ç‡§∞‡•Å‡§ü‡§ø',
                    'must_finish_previous' => '‡§™‡§π‡§≤‡•á ‡§™‡§ø‡§õ‡§≤‡•á ‡§ï‡§¶‡§Æ ‡§ï‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç',
                    'success' => '‡§∏‡§´‡§≤',
                    'step_completed' => '‡§ï‡§¶‡§Æ :step ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü',
                    'all_steps_completed_title' => '‡§¨‡§ß‡§æ‡§à! üéâ',
                    'all_steps_completed_text' => '‡§∏‡§≠‡•Ä ‡§ï‡§¶‡§Æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•Ç‡§∞‡•á ‡§π‡•Å‡§è',
                    'restart' => '‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§æ‡§∞‡§Ç‡§≠ ‡§ï‡§∞‡•á‡§Ç',
                    'close' => '‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç',
                    'step_finished_button' => '‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü',
                    'finish_step_button' => '‡§ï‡§¶‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç',
                    'saving_error' => '‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§ï‡•ã ‡§∏‡§π‡•á‡§ú‡§§‡•á ‡§∏‡§Æ‡§Ø ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§π‡•Å‡§à',
                    'congrats_image_alt' => '‡§¨‡§ß‡§æ‡§à',
                ],
                'id' => [
                    'error' => 'Kesalahan',
                    'must_finish_previous' => 'Anda harus menyelesaikan langkah sebelumnya terlebih dahulu',
                    'success' => 'Berhasil',
                    'step_completed' => 'Langkah :step selesai',
                    'all_steps_completed_title' => 'Selamat! üéâ',
                    'all_steps_completed_text' => 'Semua langkah berhasil diselesaikan',
                    'restart' => 'Mulai ulang',
                    'close' => 'Tutup',
                    'step_finished_button' => 'Selesai',
                    'finish_step_button' => 'Selesaikan langkah',
                    'saving_error' => 'Terjadi kesalahan saat menyimpan kemajuan',
                    'congrats_image_alt' => 'Selamat',
                ],
                'am' => [
                    'error' => '·àµ·àÖ·â∞·âµ',
                    'must_finish_previous' => '·âÄ·ãµ·àû·ãç·äï ·ã∞·à®·åÉ ·àò·å®·à®·àµ ·ä†·àà·â•·ãé·âµ',
                    'success' => '·â∞·à≥·ä´',
                    'step_completed' => '·ã∞·à®·åÉ :step ·â∞·å†·äì·âÄ·âÄ',
                    'all_steps_completed_title' => '·ä•·äï·ä≥·äï ·ã∞·àµ ·ä†·àà·ãé·âµ! üéâ',
                    'all_steps_completed_text' => '·àÅ·àâ·àù ·ã∞·à®·åÉ·ãé·âΩ ·â†·âµ·ä≠·ä≠·àç ·â∞·å†·äì·âÄ·âÅ',
                    'restart' => '·ä•·äï·ã∞·åà·äì ·åÄ·àù·à≠',
                    'close' => '·ãù·åã',
                    'step_finished_button' => '·â∞·å†·äì·âÄ·âÄ',
                    'finish_step_button' => '·ã∞·à®·åÉ ·ä†·å†·äì·âÖ',
                    'saving_error' => '·ã∞·à®·åÉ·ãé·âΩ·äï ·à≤·âÄ·àù·å° ·àµ·àÖ·â∞·âµ ·ä†·åã·å•·àü·àç',
                    'congrats_image_alt' => '·ä•·äï·ä≥·äï ·ã∞·àµ ·ä†·àà·ãé·âµ',
                ],
                'bn' => [
                    'error' => '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø',
                    'must_finish_previous' => '‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶ß‡¶æ‡¶™‡¶ü‡¶ø ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá',
                    'success' => '‡¶∏‡¶´‡¶≤',
                    'step_completed' => '‡¶ß‡¶æ‡¶™ :step ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá',
                    'all_steps_completed_title' => '‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! üéâ',
                    'all_steps_completed_text' => '‡¶∏‡¶¨ ‡¶ß‡¶æ‡¶™ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá',
                    'restart' => '‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'close' => '‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'step_finished_button' => '‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®',
                    'finish_step_button' => '‡¶ß‡¶æ‡¶™ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®',
                    'saving_error' => '‡¶™‡ßç‡¶∞‡¶ó‡¶§‡¶ø ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶ò‡¶ü‡ßá‡¶õ‡ßá',
                    'congrats_image_alt' => '‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®',
                ],
                'ml' => [
                    'error' => '‡¥™‡¥ø‡¥∂‡¥ï‡µç',
                    'must_finish_previous' => '‡¥Æ‡µÅ‡¥Æ‡µç‡¥™‡¥§‡µç‡¥§‡µÜ ‡¥ò‡¥ü‡µç‡¥ü‡¥Ç ‡¥Ü‡¥¶‡µç‡¥Ø‡¥Ç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡¥£‡¥Ç',
                    'success' => '‡¥µ‡¥ø‡¥ú‡¥Ø‡¥Ç',
                    'step_completed' => '‡¥ò‡¥ü‡µç‡¥ü‡¥Ç :step ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥Ø‡¥ø',
                    'all_steps_completed_title' => '‡¥Ö‡¥≠‡¥ø‡¥®‡¥®‡µç‡¥¶‡¥®‡¥Ç! üéâ',
                    'all_steps_completed_text' => '‡¥é‡¥≤‡µç‡¥≤‡¥æ ‡¥ò‡¥ü‡µç‡¥ü‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥Ç ‡¥µ‡¥ø‡¥ú‡¥Ø‡¥ï‡¥∞‡¥Æ‡¥æ‡¥Ø‡¥ø ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡¥ø',
                    'restart' => '‡¥™‡µÅ‡¥®‡¥∞‡¥æ‡¥∞‡¥Ç‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï',
                    'close' => '‡¥Ö‡¥µ‡¥∏‡¥æ‡¥®‡¥ø‡¥™‡µç‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï',
                    'step_finished_button' => '‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥Ø‡¥ø',
                    'finish_step_button' => '‡¥ò‡¥ü‡µç‡¥ü‡¥Ç ‡¥™‡µÇ‡µº‡¥§‡µç‡¥§‡¥ø‡¥Ø‡¥æ‡¥ï‡µç‡¥ï‡µÅ‡¥ï',
                    'saving_error' => '‡¥™‡µç‡¥∞‡¥ó‡¥§‡¥ø‡¥Ø‡µÜ ‡¥∏‡µá‡¥µ‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥Æ‡µç‡¥™‡µã‡µæ ‡¥™‡¥ø‡¥∂‡¥ï‡µç ‡¥∏‡¥Ç‡¥≠‡¥µ‡¥ø‡¥ö‡µç‡¥ö‡µÅ',
                    'congrats_image_alt' => '‡¥Ö‡¥≠‡¥ø‡¥®‡¥®‡µç‡¥¶‡¥®‡¥Ç',
                ],
                'fil' => [
                    'error' => 'Error',
                    'must_finish_previous' => 'Dapat tapusin muna ang nakaraang hakbang',
                    'success' => 'Tagumpay',
                    'step_completed' => 'Natapos ang hakbang :step',
                    'all_steps_completed_title' => 'Congrats! üéâ',
                    'all_steps_completed_text' => 'Lahat ng hakbang ay matagumpay na natapos',
                    'restart' => 'Magsimula muli',
                    'close' => 'Isara',
                    'step_finished_button' => 'Natapos',
                    'finish_step_button' => 'Tapusin ang hakbang',
                    'saving_error' => 'Nagkaroon ng error habang sine-save ang progreso',
                    'congrats_image_alt' => 'Congrats',
                ],
                'ur' => [
                    'error' => 'ÿÆÿ∑ÿß',
                    'must_finish_previous' => 'Ÿæ€ÅŸÑ€í Ÿæ⁄Ü⁄æŸÑÿß ŸÖÿ±ÿ≠ŸÑ€Å ŸÖ⁄©ŸÖŸÑ ⁄©ÿ±€å⁄∫',
                    'success' => '⁄©ÿßŸÖ€åÿßÿ®',
                    'step_completed' => 'ŸÖÿ±ÿ≠ŸÑ€Å :step ŸÖ⁄©ŸÖŸÑ',
                    'all_steps_completed_title' => 'ŸÖÿ®ÿßÿ±⁄© €ÅŸà! üéâ',
                    'all_steps_completed_text' => 'ÿ™ŸÖÿßŸÖ ŸÖÿ±ÿßÿ≠ŸÑ ⁄©ÿßŸÖ€åÿßÿ®€å ÿ≥€í ŸÖ⁄©ŸÖŸÑ €ÅŸà ⁄Øÿ¶€í €Å€å⁄∫',
                    'restart' => 'ÿØŸàÿ®ÿßÿ±€Å ÿ¥ÿ±Ÿàÿπ ⁄©ÿ±€å⁄∫',
                    'close' => 'ÿ®ŸÜÿØ ⁄©ÿ±€å⁄∫',
                    'step_finished_button' => 'ŸÖ⁄©ŸÖŸÑ',
                    'finish_step_button' => 'ŸÖÿ±ÿ≠ŸÑ€Å ŸÖ⁄©ŸÖŸÑ ⁄©ÿ±€å⁄∫',
                    'saving_error' => 'ÿ™ÿ±ŸÇ€å ŸÖÿ≠ŸÅŸàÿ∏ ⁄©ÿ±ÿ™€í ŸàŸÇÿ™ ÿÆÿ±ÿßÿ®€å €ÅŸàÿ¶€å',
                    'congrats_image_alt' => 'ŸÖÿ®ÿßÿ±⁄©',
                ],
                'ta' => [
                    'error' => '‡Æ§‡Æµ‡Æ±‡ØÅ',
                    'must_finish_previous' => '‡ÆÆ‡ØÅ‡Æ®‡Øç‡Æ§‡Øà‡ÆØ ‡Æ™‡Æü‡Æø‡ÆØ‡Øà ‡ÆÆ‡ØÅ‡Æ§‡Æ≤‡Æø‡Æ≤‡Øç ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æï‡Øç‡Æï ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç',
                    'success' => '‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø',
                    'step_completed' => '‡Æ™‡Æü‡Æø :step ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ',
                    'all_steps_completed_title' => '‡Æµ‡Ææ‡Æ¥‡Øç‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç! üéâ',
                    'all_steps_completed_text' => '‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ ‡Æ™‡Æü‡Æø‡Æï‡Æ≥‡ØÅ‡ÆÆ‡Øç ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ',
                    'restart' => '‡ÆÆ‡ØÄ‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Øä‡Æü‡Æô‡Øç‡Æï‡ØÅ',
                    'close' => '‡ÆÆ‡ØÇ‡Æü‡ØÅ',
                    'step_finished_button' => '‡ÆÆ‡ØÅ‡Æü‡Æø‡Æ®‡Øç‡Æ§‡Æ§‡ØÅ',
                    'finish_step_button' => '‡Æ™‡Æü‡Æø‡ÆØ‡Øà ‡ÆÆ‡ØÅ‡Æü‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç',
                    'saving_error' => '‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Øá‡Æ±‡Øç‡Æ±‡Æ§‡Øç‡Æ§‡Øà‡Æö‡Øç ‡Æö‡Øá‡ÆÆ‡Æø‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Øã‡Æ§‡ØÅ ‡Æ™‡Æø‡Æ¥‡Øà ‡Æè‡Æ±‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ§‡ØÅ',
                    'congrats_image_alt' => '‡Æµ‡Ææ‡Æ¥‡Øç‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Øç',
                ],
                'ne' => [
                    'error' => '‡§§‡•ç‡§∞‡•Å‡§ü‡§ø',
                    'must_finish_previous' => '‡§™‡§π‡§ø‡§≤‡•á ‡§Ö‡§ò‡§ø‡§≤‡•ç‡§≤‡•ã ‡§ï‡§¶‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç',
                    'success' => '‡§∏‡§´‡§≤',
                    'step_completed' => '‡§ï‡§¶‡§Æ :step ‡§™‡•Ç‡§∞‡§æ ‡§≠‡§Ø‡•ã',
                    'all_steps_completed_title' => '‡§¨‡§ß‡§æ‡§à! üéâ',
                    'all_steps_completed_text' => '‡§∏‡§¨‡•à ‡§ï‡§¶‡§Æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•Ç‡§∞‡§æ ‡§≠‡§Ø‡•ã',
                    'restart' => '‡§´‡•á‡§∞‡§ø ‡§∏‡•Å‡§∞‡•Å ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç',
                    'close' => '‡§¨‡§®‡•ç‡§¶ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç',
                    'step_finished_button' => '‡§™‡•Ç‡§∞‡§æ ‡§≠‡§Ø‡•ã',
                    'finish_step_button' => '‡§ï‡§¶‡§Æ ‡§™‡•Ç‡§∞‡§æ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç',
                    'saving_error' => '‡§™‡•ç‡§∞‡§ó‡§§‡§ø ‡§¨‡§ö‡§æ‡§â‡§Å‡§¶‡§æ ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø ‡§≠‡§Ø‡•ã',
                    'congrats_image_alt' => '‡§¨‡§ß‡§æ‡§à',
                ],
                'ps' => [
                    'error' => 'ÿ™€êÿ±Ÿàÿ™ŸÜŸá',
                    'must_finish_previous' => 'ÿ™ÿßÿ≥Ÿà ÿ®ÿß€åÿØ ŸÑŸàŸÖ⁄ì€å ÿ™€åÿ± ⁄´ÿßŸÖ ÿ®ÿ¥Ÿæ⁄ì ⁄©⁄ìÿ¶',
                    'success' => 'ÿ®ÿ±€åÿßŸÑ€å',
                    'step_completed' => '⁄´ÿßŸÖ :step ÿ®ÿ¥Ÿæ⁄ì ÿ¥Ÿà',
                    'all_steps_completed_title' => 'ŸÖÿ®ÿßÿ±⁄©! üéâ',
                    'all_steps_completed_text' => 'ŸºŸàŸÑ ⁄´ÿßŸÖŸàŸÜŸá ÿ®ÿ±€åÿßŸÑ€ç ÿ®ÿ¥Ÿæ⁄ì ÿ¥ŸàŸÑ',
                    'restart' => 'ÿ®Ÿäÿß ŸæŸäŸÑ ⁄©⁄ìÿ¶',
                    'close' => 'ÿ™⁄ìŸÑ',
                    'step_finished_button' => 'ÿ®ÿ¥Ÿæ⁄ì ÿ¥Ÿà€å',
                    'finish_step_button' => '⁄´ÿßŸÖ ÿ®ÿ¥Ÿæ⁄ì ⁄©⁄ìÿ¶',
                    'saving_error' => 'ÿØ Ÿæÿ±ŸÖÿÆÿ™⁄´ ÿÆŸàŸÜÿØŸä ⁄©ŸàŸÑŸà Ÿæÿ±ŸÖŸáÿßŸÑ ÿ™€êÿ±Ÿàÿ™ŸÜŸá Ÿàÿ¥ŸàŸá',
                    'congrats_image_alt' => 'ŸÖÿ®ÿßÿ±⁄©',
                ],
                'fr' => [
                    'error' => 'Erreur',
                    'must_finish_previous' => 'Vous devez d‚Äôabord terminer l‚Äô√©tape pr√©c√©dente',
                    'success' => 'Succ√®s',
                    'step_completed' => '√âtape :step termin√©e',
                    'all_steps_completed_title' => 'F√©licitations! üéâ',
                    'all_steps_completed_text' => 'Toutes les √©tapes ont √©t√© termin√©es avec succ√®s',
                    'restart' => 'Red√©marrer',
                    'close' => 'Fermer',
                    'step_finished_button' => 'Termin√©',
                    'finish_step_button' => 'Terminer l‚Äô√©tape',
                    'saving_error' => 'Une erreur est survenue lors de l‚Äôenregistrement de la progression',
                    'congrats_image_alt' => 'F√©licitations',
                ],
            ];
        
            $jsStepTexts = $jsStepTranslations[$lang] ?? $jsStepTranslations['ar'];
        @endphp
        
        <script>
            const recipeId = {{ $recipe->id }};
            const totalSteps = {{ count($steps) }};
            let completedSteps = @json($completedSteps);
            let startNotificationSent = false;

            function completeStep(stepIndex) {
                if (stepIndex !== completedSteps.length) {
                    Swal.fire({
                        title: "{{ $jsStepTexts['success'] }}",
                        text: "{{ $jsStepTexts['must_finish_previous'] }}",
                        icon: "{{ $jsStepTexts['error'] }}"
                    });
                    return;
                }
                fetch('/recipe/complete-step', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRF-TOKEN': '{{ csrf_token() }}'
                        },
                        body: JSON.stringify({
                            recipe_id: recipeId,
                            step_index: stepIndex,
                            meal_name: "{{ $recipe->title }}"
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            if (stepIndex === 0 && !startNotificationSent) {
                                sendStartCookingNotification();
                                startNotificationSent = true;
                            }
                            completedSteps.push(stepIndex);
                            updateStepUI(stepIndex);
                            Swal.fire({
                                title: "{{ $jsStepTexts['success'] }}",
                                text: `{{ $jsStepTexts['step_completed'] }} ${stepIndex + 1}`,
                                icon: "success",
                                timer: 1500,
                                showConfirmButton: false
                            });
                            if (completedSteps.length === totalSteps) {
                                setTimeout(() => {
                                    Swal.fire({
                                        title: "{{ $jsStepTexts['all_steps_completed_title'] }}! üéâ",
                                        text: "{{ $jsStepTexts['all_steps_completed_text'] }}",
                                        imageUrl: "{{ asset('assets/images/biryani.gif') }}",
                                        imageWidth: 200,
                                        imageHeight: 200,
                                        imageAlt: 'ŸÖÿ®ÿ±ŸàŸÉ',
                                        showCancelButton: true,
                                        confirmButtonText: "{{ $jsStepTexts['restart'] }}",
                                        cancelButtonText: "{{ $jsStepTexts['close'] }}",
                                        confirmButtonColor: '#28a745',
                                        cancelButtonColor: '#6c757d'
                                    }).then((result) => {
                                        if (result.isConfirmed) {
                                            resetSteps();
                                        }
                                    });
                                }, 1000);
                            }
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        Swal.fire({
                            title: "ÿÆÿ∑ÿ£",
                            text: "ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ŸÇÿØŸÖ",
                            icon: "error"
                        });
                    });
            }

            function updateStepUI(stepIndex) {
                const buttonElement = document.getElementById(`complete-btn-${stepIndex}`);
                const stepText = document.getElementById(`step-text-${stepIndex}`);
                buttonElement.title = "ÿ™ŸÖ ÿßŸÑÿ•ŸÜÿ™Ÿáÿßÿ°";
                stepText.style.textDecoration = 'line-through';
                if (completedSteps.length < totalSteps) {
                    const nextBtn = document.getElementById(`complete-btn-${completedSteps.length}`);
                    const nextText = document.getElementById(`step-text-${completedSteps.length}`);
                    nextBtn.style.cursor = 'pointer';
                    nextBtn.title = "ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿÆÿ∑Ÿàÿ©";
                    nextText.style.opacity = '1';
                }
            }

            function resetSteps() {
                fetch('/recipe/reset-steps', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRF-TOKEN': '{{ csrf_token() }}'
                        },
                        body: JSON.stringify({
                            recipe_id: recipeId,
                            meal_name: "{{ $recipe->title }}" // ÿ£ÿ∂ŸÅ Ÿáÿ∞ÿß
                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            Swal.fire({
                                title: "ÿ™ŸÖ ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿπŸäŸäŸÜ",
                                text: "ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿ®ÿØÿ° ŸÖŸÜ ÿ¨ÿØŸäÿØ",
                                icon: "success",
                                timer: 1500,
                                showConfirmButton: false
                            }).then(() => {
                                location.reload();
                            });
                        }
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            }

            function sendStartCookingNotification() {
                fetch('/send-start-cooking-notification', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'X-CSRF-TOKEN': '{{ csrf_token() }}'
                        },
                        body: JSON.stringify({
                            meal_name: "{{ $recipe->title }}",

                        })
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('ÿ•ÿ¥ÿπÿßÿ± ÿßŸÑÿ®ÿØÿ° ŸÅŸä ÿßŸÑÿ∑ŸáŸä ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑŸá');
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
            }

            function speakText(text) {
                const isArabic = /[\u0600-\u06FF]/.test(text);
                const lang = isArabic ? 'ar' : 'en';
                responsiveVoice.speak(text, getVoiceForLang(lang), {
                    rate: 0.9
                });
            }

            function getVoiceForLang(lang) {
                const voices = {
                    'ar': 'Arabic Female',
                    'en': 'UK English Female',
                };
                return voices[lang] || 'UK English Female';
            }

            function openImage(imageUrl) {
                Swal.fire({
                    imageUrl: imageUrl,
                    imageAlt: 'ÿßŸÑÿµŸàÿ±ÿ©',
                    showCloseButton: true,
                    showConfirmButton: false,
                    background: 'transparent',
                    backdrop: 'rgba(0, 0, 0, 0.8)',
                    width: 'auto',
                    padding: '0'
                });
            }
        </script>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/jquery.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js"></script>
    <script src="assets/js/dz.carousel.js"></script>
    <script src="assets/js/settings.js"></script>
    <script src="assets/js/custom.js"></script>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=vm7hFTHk"></script>
    {!! $swalScript !!}
</body>

</html>
